#include <iostream>
#include <cstdlib>
#include <chrono>
#include <vector>
using namespace std;

vector<vector<int>> t = { };
vector<int> q = {};
int board[9][9] = { 0 };
vector<int> coordinates_of_zeros = {};

void print_result()
{
    cout << "-------------------------------" << endl;
    for (int i = 0; i < 9; i++) {
        cout << "| ";
        for (int j = 0; j < 9; j++) {
            if (board[i][j] != 0) {
                cout << board[i][j] << " ";
            }
            else {
                cout << "* ";
            }
            if (j % 3 == 2) {
                cout << "| ";
            }
            else {
                cout << " ";
            }
        }
        cout << endl;
        if (i % 3 == 2) { cout << "-------------------------------" << endl; }
    }
}

void input_sudoku() {
    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            cin >> board[i][j];
        }
    }
}


void write_possible_solutions() {
    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            if (board[i][j] == 0) {
                q.push_back(i * 10 + j);
                t.push_back({ 1, 2, 3, 4, 5, 6, 7, 8, 9 });
            }
        }
    }
}

void check_possible_solutions() {
    int a = 0;
    bool b = 0;
    for (int i = 0; i < q.size(); i++) {
        for (int j = 0; j < 9; j++) {
            if (find(t[i].begin(), t[i].end(), board[j][(q.at(i) % 10)]) != t[i].end()) {
                a = find(t[i].begin(), t[i].end(), board[j][(q.at(i) % 10)]) - t[i].begin();
                t[i].erase(t[i].begin() + a);
                b = 1;
            }
            else if ((find(t[i].begin(), t[i].end(), board[((q.at(i) - q.at(i) % 10) / 10)][j]) != t[i].end())) {
                a = find(t[i].begin(), t[i].end(), board[((q.at(i) - q.at(i) % 10) / 10)][j]) - t[i].begin();
                t[i].erase(t[i].begin() + a);
                b = 1;
            }
            else if (find(t[i].begin(), t[i].end(), board[((q.at(i) - q.at(i) % 10) / 10) - ((q.at(i) - q.at(i) % 10) / 10) % 3 + (j - j % 3) / 3][(q.at(i) % 10) - (q.at(i) % 10) % 3 + j % 3]) != t[i].end()) {
                a = find(t[i].begin(), t[i].end(), board[((q.at(i) - q.at(i) % 10) / 10) - ((q.at(i) - q.at(i) % 10) / 10) % 3 + (j - j % 3) / 3][(q.at(i) % 10) - (q.at(i) % 10) % 3 + j % 3]) - t[i].begin();
                t[i].erase(t[i].begin() + a);
                b = 1;
            }
        }
    }
    for (int i = 0; i < q.size(); i++) {
        if (t[i].size() == 1)
            board[((q.at(i) - q.at(i) % 10) / 10)][(q.at(i) % 10)] = t[i][0];
    }
    if (b) { check_possible_solutions(); }
}

void CSP()
{
    write_possible_solutions();
    check_possible_solutions();
}


int main(){
    input_sudoku();
    CSP();
}
