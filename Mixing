#include <iostream>
#include <cstdlib>
#include <chrono>
#include <vector>
using namespace std;

int board[9][9] = { 0 };
int change_to[9] = { 0 };

void print_result()
{
    cout << "-------------------------------" << endl;
    for (int i = 0; i < 9; i++) {
        cout << "| ";
        for (int j = 0; j < 9; j++) {
            if (board[i][j] != 0) {
                cout << board[i][j] << " ";
            }
            else {
                cout << "* ";
            }
            if (j % 3 == 2) {
                cout << "| ";
            }
            else {
                cout << " ";
            }
        }
        cout << endl;
        if (i % 3 == 2) { cout << "-------------------------------" << endl; }
    }
}

void mixrc(int a)
{
    int b = rand() % 6;
    int c = rand() % 6;
    int m = 0;
    for (int i = 0; i < 9; i++) {
        if (b < 3) {
            m = board[i][b + a];
            board[i][b + a] = board[i][(b + 1) % 3 + a];
            board[i][(b + 1) % 3 + a] = m;
        }
        else if (b < 5) {
            m = board[i][b % 3 + a];
            board[i][b % 3 + a] = board[i][(b + 1) % 3 + a];
            board[i][(b + 1) % 3 + a] = board[i][(b + 2) % 3 + a];
            board[i][(b + 2) % 3 + a] = m;
        }
    }
    for (int i = 0; i < 9; i++) {
        if (c < 3) {
            m = board[c + a][i];
            board[c + a][i] = board[(c + 1) % 3 + a][i];
            board[(c + 1) % 3 + a][i] = m;
        }
        else if (c < 5) {
            m = board[c % 3 + a][i];
            board[c % 3 + a][i] = board[(c + 1) % 3 + a][i];
            board[(c + 1) % 3 + a][i] = board[(c + 2) % 3 + a][i];
            board[(c + 2) % 3 + a][i] = m;
        }
    }
}

void mixnum() {
    vector<int> change_from = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };
    int a = 0;
    for (int i = 0; i < 9; i++) {
        a = rand() % (9 - i);
        change_to[i] = change_from.at(a);
        change_from.erase(change_from.begin() + a);
    }
    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            board[i][j] = change_to[board[i][j] - 1];
        }
    }
}

void creating_board()
{

    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            board[i][j] = (j + (i * 3) + ((i - i % 3) / 3)) % 9 + 1;
        }
    }
    for (int i = 0; i < 3; i++) {
        mixrc(i * 3);
    }
    mixnum();
}

int main() {
    srand(time(NULL));
    creating_board();
    print_result();
}
